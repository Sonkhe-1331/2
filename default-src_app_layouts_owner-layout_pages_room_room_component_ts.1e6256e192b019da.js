"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([["default-src_app_layouts_owner-layout_pages_room_room_component_ts"],{57386:function(rt,j,h){h.d(j,{G:function(){return X}});var S=h(78069),U=h(48047),w=h(76442),X=function(){var R=function(){function L(){(0,S.Z)(this,L)}return(0,U.Z)(L,[{key:"transform",value:function(_,t){return _?t?(t=t.toLowerCase(),_.filter(function(k){return JSON.stringify(k).toLowerCase().includes(t)})):_:null}}]),L}();return R.\u0275fac=function(I){return new(I||R)},R.\u0275pipe=w.Yjl({name:"filter",type:R,pure:!0}),R}()},48197:function(rt,j,h){h.d(j,{Y:function(){return wt}});var S=h(78069),U=h(48047),w=h(86991),X=h(60598),R=h.n(X),L=h(43445);function I(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
I=function(){return r};var r={},s=Object.prototype,n=s.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",f=i.asyncIterator||"@@asyncIterator",p=i.toStringTag||"@@toStringTag";function g(o,e,a){return Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),o[e]}try{g({},"")}catch(o){g=function(a,l,c){return a[l]=c}}function G(o,e,a,l){var C,T,d,b,m=Object.create((e&&e.prototype instanceof O?e:O).prototype),v=new x(l||[]);return m._invoke=(C=o,T=a,d=v,b="suspendedStart",function(Z,ot){if("executing"===b)throw new Error("Generator is already running");if("completed"===b){if("throw"===Z)throw ot;return{value:void 0,done:!0}}for(d.method=Z,d.arg=ot;;){var nt=d.delegate;if(nt){var Q=tt(nt,d);if(Q){if(Q===y)continue;return Q}}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if("suspendedStart"===b)throw b="completed",d.arg;d.dispatchException(d.arg)}else"return"===d.method&&d.abrupt("return",d.arg);b="executing";var Y=N(C,T,d);if("normal"===Y.type){if(b=d.done?"completed":"suspendedYield",Y.arg===y)continue;return{value:Y.arg,done:d.done}}"throw"===Y.type&&(b="completed",d.method="throw",d.arg=Y.arg)}}),m}function N(o,e,a){try{return{type:"normal",arg:o.call(e,a)}}catch(l){return{type:"throw",arg:l}}}r.wrap=G;var y={};function O(){}function q(){}function A(){}var z={};g(z,u,function(){return this});var D=Object.getPrototypeOf,F=D&&D(D(P([])));F&&F!==s&&n.call(F,u)&&(z=F);var J=A.prototype=O.prototype=Object.create(z);function K(o){["next","throw","return"].forEach(function(e){g(o,e,function(a){return this._invoke(e,a)})})}function M(o,e){function a(c,m,v,C){var T=N(o[c],o,m);if("throw"!==T.type){var d=T.arg,b=d.value;return b&&"object"==(0,L.Z)(b)&&n.call(b,"__await")?e.resolve(b.__await).then(function(Z){a("next",Z,v,C)},function(Z){a("throw",Z,v,C)}):e.resolve(b).then(function(Z){d.value=Z,v(d)},function(Z){return a("throw",Z,v,C)})}C(T.arg)}var l;this._invoke=function(c,m){function v(){return new e(function(C,T){a(c,m,C,T)})}return l=l?l.then(v,v):v()}}function tt(o,e){var a=o.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(o.iterator.return&&(e.method="return",e.arg=void 0,tt(o,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var l=N(a,o.iterator,e.arg);if("throw"===l.type)return e.method="throw",e.arg=l.arg,e.delegate=null,y;var c=l.arg;return c?c.done?(e[o.resultName]=c.value,e.next=o.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,y):c:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function Rt(o){var e={tryLoc:o[0]};1 in o&&(e.catchLoc=o[1]),2 in o&&(e.finallyLoc=o[2],e.afterLoc=o[3]),this.tryEntries.push(e)}function W(o){var e=o.completion||{};e.type="normal",delete e.arg,o.completion=e}function x(o){this.tryEntries=[{tryLoc:"root"}],o.forEach(Rt,this),this.reset(!0)}function P(o){if(o){var e=o[u];if(e)return e.call(o);if("function"==typeof o.next)return o;if(!isNaN(o.length)){var a=-1,l=function c(){for(;++a<o.length;)if(n.call(o,a))return c.value=o[a],c.done=!1,c;return c.value=void 0,c.done=!0,c};return l.next=l}}return{next:et}}function et(){return{value:void 0,done:!0}}return q.prototype=A,g(J,"constructor",A),g(A,"constructor",q),q.displayName=g(A,p,"GeneratorFunction"),r.isGeneratorFunction=function(o){var e="function"==typeof o&&o.constructor;return!!e&&(e===q||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(o){return Object.setPrototypeOf?Object.setPrototypeOf(o,A):(o.__proto__=A,g(o,p,"GeneratorFunction")),o.prototype=Object.create(J),o},r.awrap=function(o){return{__await:o}},K(M.prototype),g(M.prototype,f,function(){return this}),r.AsyncIterator=M,r.async=function(o,e,a,l,c){void 0===c&&(c=Promise);var m=new M(G(o,e,a,l),c);return r.isGeneratorFunction(e)?m:m.next().then(function(v){return v.done?v.value:m.next()})},K(J),g(J,p,"Generator"),g(J,u,function(){return this}),g(J,"toString",function(){return"[object Generator]"}),r.keys=function(o){var e=[];for(var a in o)e.push(a);return e.reverse(),function l(){for(;e.length;){var c=e.pop();if(c in o)return l.value=c,l.done=!1,l}return l.done=!0,l}},r.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!e)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function l(d,b){return v.type="throw",v.arg=e,a.next=d,b&&(a.method="next",a.arg=void 0),!!b}for(var c=this.tryEntries.length-1;c>=0;--c){var m=this.tryEntries[c],v=m.completion;if("root"===m.tryLoc)return l("end");if(m.tryLoc<=this.prev){var C=n.call(m,"catchLoc"),T=n.call(m,"finallyLoc");if(C&&T){if(this.prev<m.catchLoc)return l(m.catchLoc,!0);if(this.prev<m.finallyLoc)return l(m.finallyLoc)}else if(C){if(this.prev<m.catchLoc)return l(m.catchLoc,!0)}else{if(!T)throw new Error("try statement without catch or finally");if(this.prev<m.finallyLoc)return l(m.finallyLoc)}}}},abrupt:function(e,a){for(var l=this.tryEntries.length-1;l>=0;--l){var c=this.tryEntries[l];if(c.tryLoc<=this.prev&&n.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var m=c;break}}m&&("break"===e||"continue"===e)&&m.tryLoc<=a&&a<=m.finallyLoc&&(m=null);var v=m?m.completion:{};return v.type=e,v.arg=a,m?(this.method="next",this.next=m.finallyLoc,y):this.complete(v)},complete:function(e,a){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&a&&(this.next=a),y},finish:function(e){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.finallyLoc===e)return this.complete(l.completion,l.afterLoc),W(l),y}},catch:function(e){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc===e){var c=l.completion;if("throw"===c.type){var m=c.arg;W(l)}return m}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,l){return this.delegate={iterator:P(e),resultName:a,nextLoc:l},"next"===this.method&&(this.arg=void 0),y}},r}var _=h(90587),t=h(76442),k=h(32333),B=h(72288),it=h(84676),at=h(71412),ut=h(38220),E=h(36362),$=h(76246);function st(r,s){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){var n=s.$implicit;t.Q6J("value",n.Id),t.xp6(1),t.hij(" ",n.name," ")}}var V=function(){var r=function(){function s(n,i,u,f,p){(0,S.Z)(this,s),this.dialog=n,this.fb=i,this.dialogRef=u,this.data=f,this.roomService=p,this.roomsType=[],this.isEditable=!1}return(0,U.Z)(s,[{key:"ngOnInit",value:function(){return function(r,s,n,i){return new(n||(n=Promise))(function(f,p){function g(y){try{N(i.next(y))}catch(O){p(O)}}function G(y){try{N(i.throw(y))}catch(O){p(O)}}function N(y){y.done?f(y.value):function u(f){return f instanceof n?f:new n(function(p){p(f)})}(y.value).then(g,G)}N((i=i.apply(r,s||[])).next())})}(this,void 0,void 0,I().mark(function i(){var u;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.isEditable=u=this.data.edit,p.next=4,this.getRoomsTypes();case 4:console.log(this.data),this.formCentre=this.fb.group({roomNumber:["",_.kI.required],roomName:["",_.kI.required],typeId:["",_.kI.required]}),1==u&&this.populateForm(this.data.room);case 7:case"end":return p.stop()}},i,this)}))}},{key:"onSubmit",value:function(){var i=this;console.log(this.formCentre.valid),this.formCentre.valid&&(console.error(this.formCentre.valid),1==this.data.edit?this.roomService.updateRoom(this.formCentre.value,this.data.centre.CentreId).subscribe(function(u){i.Close()}):this.roomService.AddRoom(this.formCentre.value).subscribe(function(u){console.error(u),i.Close()},function(u){console.error(u)}))}},{key:"getRoomsTypes",value:function(){var i=this;this.roomService.getRoomsTypes().subscribe(function(u){console.log(u),i.roomsType=u})}},{key:"populateForm",value:function(i){this.formCentre.patchValue({roomName:i.roomName,roomNumber:i.roomNumber,typeId:i.typeId})}},{key:"Close",value:function(){this.dialog.closeAll()}}]),s}();return r.\u0275fac=function(n){return new(n||r)(t.Y36(w.uw),t.Y36(_.qu),t.Y36(w.so),t.Y36(w.WI),t.Y36(k.X))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-RoomDialog"]],decls:25,vars:3,consts:[["mat-dialog-title","","align","center"],["autocomplete","off",1,"example-form",3,"formGroup","submit"],["mat-dialog-content",""],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","ex. Midrand c","formControlName","roomNumber"],["matInput","","placeholder","","formControlName","roomName"],["appearance","fill"],["formControlName","typeId","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-stroked-button","","type","submit"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"h3",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("submit",function(){return i.onSubmit()}),t._UZ(3,"div",2),t.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Room Number"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Room Name"),t.qZA(),t._UZ(12,"input",5),t.qZA(),t.TgZ(13,"mat-form-field",6)(14,"mat-label"),t._uU(15,"Choose Room Type"),t.qZA(),t.TgZ(16,"mat-select",7)(17,"mat-option"),t._uU(18,"--"),t.qZA(),t.YNc(19,st,2,2,"mat-option",8),t.qZA()()(),t.TgZ(20,"div",9)(21,"button",10),t._uU(22,"Confirm"),t.qZA(),t.TgZ(23,"button",11),t.NdJ("click",function(){return i.Close()}),t._uU(24,"Cancel"),t.qZA()()()),2&n&&(t.xp6(1),t.hij(" ",i.isEditable?"Editable":"Add New Room"," "),t.xp6(1),t.Q6J("formGroup",i.formCentre),t.xp6(17),t.Q6J("ngForOf",i.roomsType))},directives:[_._Y,_.JL,_.sg,B.KE,B.hX,it.Nt,_.Fj,_.JJ,_.u,at.gD,_.Q7,ut.ey,E.sg,$.lW],styles:["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJSb29tRGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"]}),r}(),ct=h(62544),mt=h(57386),ft=["headers"],pt=["rows"];function dt(r,s){1&r&&t.GkF(0)}function ht(r,s){1&r&&t.GkF(0)}var H=function(s){return{$implicit:s}};function vt(r,s){if(1&r&&(t.TgZ(0,"tr"),t.YNc(1,ht,1,0,"ng-container",3),t.qZA()),2&r){var n=s.$implicit,i=t.oxw(),u=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",i.rows||u)("ngTemplateOutletContext",t.VKq(2,H,n))}}function gt(r,s){if(1&r&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&r){var n=s.$implicit;t.xp6(1),t.Oqu(n.key)}}function yt(r,s){1&r&&(t.YNc(0,gt,2,1,"th",4),t.ALo(1,"keyvalue")),2&r&&t.Q6J("ngForOf",t.lcZ(1,1,s.$implicit[0]))}function _t(r,s){if(1&r&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&r){var n=s.$implicit;t.xp6(1),t.Oqu(n.value)}}function bt(r,s){1&r&&(t.YNc(0,_t,2,1,"td",4),t.ALo(1,"keyvalue")),2&r&&t.Q6J("ngForOf",t.lcZ(1,1,s.$implicit))}var Ct=function(){var r=function(){function s(){(0,S.Z)(this,s),this.query=""}return(0,U.Z)(s,[{key:"ngOnInit",value:function(){}}]),s}();return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-table"]],contentQueries:function(n,i,u){var f;1&n&&(t.Suo(u,ft,5),t.Suo(u,pt,5)),2&n&&(t.iGM(f=t.CRH())&&(i.headers=f.first),t.iGM(f=t.CRH())&&(i.rows=f.first))},inputs:{data:"data"},decls:11,vars:9,consts:[["type","text","placeholder","Search","id","listSearch",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"table"],[1,"text-primary"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],["defaultHeaderTemplate",""],["defaultRowTemplate",""]],template:function(n,i){if(1&n&&(t.TgZ(0,"input",0),t.NdJ("ngModelChange",function(p){return i.query=p}),t.qZA(),t.TgZ(1,"table",1)(2,"thead",2),t.YNc(3,dt,1,0,"ng-container",3),t.qZA(),t.TgZ(4,"tbody"),t.YNc(5,vt,2,4,"tr",4),t.ALo(6,"filter"),t.qZA()(),t.YNc(7,yt,2,3,"ng-template",null,5,t.W1O),t.YNc(9,bt,2,3,"ng-template",null,6,t.W1O)),2&n){var u=t.MAs(8);t.Q6J("ngModel",i.query),t.xp6(3),t.Q6J("ngTemplateOutlet",i.headers||u)("ngTemplateOutletContext",t.VKq(7,H,i.data)),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,4,i.data,i.query))}},directives:[_.Fj,_.JJ,_.On,E.tP,E.sg],pipes:[mt.G,E.Nd],styles:["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWJsZS5jb21wb25lbnQuc2NzcyJ9 */"]}),r}();function Tt(r,s){1&r&&(t.TgZ(0,"th"),t._uU(1,"Room Number"),t.qZA(),t.TgZ(2,"th"),t._uU(3,"Room Name"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Type"),t.qZA(),t._UZ(6,"th"))}function Zt(r,s){if(1&r){var n=t.EpF();t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td")(7,"button",13),t.NdJ("click",function(){var p=t.CHM(n).$implicit;return t.oxw().removeRoom(p.id)}),t.TgZ(8,"mat-icon"),t._uU(9,"restore_from_trash"),t.qZA()(),t.TgZ(10,"button",13),t.NdJ("click",function(){var p=t.CHM(n).$implicit;return t.oxw().editRoom(p)}),t.TgZ(11,"mat-icon"),t._uU(12,"edit"),t.qZA()()()}if(2&r){var i=s.$implicit;t.xp6(1),t.Oqu(i.RoomNumber),t.xp6(2),t.Oqu(i.RoomName),t.xp6(2),t.Oqu(i.RoomType)}}var wt=function(){var r=function(){function s(n,i){(0,S.Z)(this,s),this.roomService=n,this.dialog=i,this.rooms=[]}return(0,U.Z)(s,[{key:"ngOnInit",value:function(){this.getRooms()}},{key:"getRooms",value:function(){var i=this;this.roomService.getRooms().subscribe(function(u){console.log(u),i.rooms=u})}},{key:"addRoom",value:function(){var i=this,u=new w.vA;u.disableClose=!1,u.width="20rem",u.height="auto",u.data={add:"yes",edit:!1},this.dialog.open(V,u).afterClosed().subscribe(function(p){i.getRooms()})}},{key:"editRoom",value:function(i){var u=this,f=new w.vA;f.disableClose=!1,f.width="20rem",f.height="auto",f.data={add:"yes",edit:!0,room:{roomName:i.RoomName,roomNumber:i.RoomNumber,typeId:1}},this.dialog.open(V,f).afterClosed().subscribe(function(g){u.getRooms()})}},{key:"removeRoom",value:function(i){var u=this;R().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff0000",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(f){f.isConfirmed&&u.roomService.deleteRoom(i).subscribe(function(p){R().fire("Deleted!","Your file has been deleted.","success")},function(p){})})}}]),s}();return r.\u0275fac=function(n){return new(n||r)(t.Y36(k.X),t.Y36(w.uw))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-room"]],decls:20,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],["mat-icon-button","",1,"addbutton",2,"font-size","xx-large",3,"click"],[1,"card-body"],[2,"background-image","url('./assets/logo-only.png')",3,"data"],["headers",""],["rows",""],["mat-button","","color","danger",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h4",6),t._uU(8,"Hotel rooms"),t.qZA(),t.TgZ(9,"p",7),t._uU(10," List of rooms within the hotel"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return i.addRoom()}),t.TgZ(12,"mat-icon"),t._uU(13,"add"),t.qZA()()(),t.TgZ(14,"div",9)(15,"app-table",10),t.YNc(16,Tt,7,0,"ng-template",null,11,t.W1O),t.YNc(18,Zt,13,3,"ng-template",null,12,t.W1O),t.qZA()()()()()()()()),2&n&&(t.xp6(15),t.Q6J("data",i.rooms))},directives:[$.lW,ct.Hw,Ct],styles:["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyb29tLmNvbXBvbmVudC5zY3NzIn0= */"]}),r}()}}]);
//# sourceMappingURL=default-src_app_layouts_owner-layout_pages_room_room_component_ts.1e6256e192b019da.js.map