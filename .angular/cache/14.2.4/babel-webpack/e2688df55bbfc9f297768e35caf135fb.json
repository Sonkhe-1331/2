{"ast":null,"code":"import _classCallCheck from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { FormBuilder } from \"@angular/forms\";\nimport { ClerkService } from \"app/services/clerk.service\";\nimport Swal from \"sweetalert2\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/services/clerk.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\n\nfunction ProcessCIOComponent_div_5_div_13_ul_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\")(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var amenity_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(amenity_r5.Name);\n  }\n}\n\nfunction ProcessCIOComponent_div_5_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 18)(2, \"div\", 19)(3, \"div\", 20)(4, \"div\", 2)(5, \"div\", 18)(6, \"span\", 21);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" - \");\n    i0.ɵɵelementStart(10, \"span\", 21);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"hr\");\n    i0.ɵɵelementStart(14, \"h5\", 9);\n    i0.ɵɵtext(15, \"Amenities \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ProcessCIOComponent_div_5_div_13_ul_16_Template, 3, 1, \"ul\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 23)(18, \"span\", 24);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 25)(21, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ProcessCIOComponent_div_5_div_13_Template_button_click_21_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r7);\n      var room_r3 = restoredCtx.$implicit;\n      var user_r1 = i0.ɵɵnextContext().$implicit;\n      var ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.Check(room_r3, true, user_r1);\n    });\n    i0.ɵɵtext(22, \"Check In\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ProcessCIOComponent_div_5_div_13_Template_button_click_23_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r7);\n      var room_r3 = restoredCtx.$implicit;\n      var user_r1 = i0.ɵɵnextContext().$implicit;\n      var ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.Check(room_r3, false, user_r1);\n    });\n    i0.ɵɵtext(24, \"Check Out\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n\n  if (rf & 2) {\n    var room_r3 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 6, room_r3.startDate));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 8, room_r3.endDate));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", room_r3.amenities);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(room_r3.status ? \"checked in\" : \"booked\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", room_r3.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !room_r3.status);\n  }\n}\n\nfunction ProcessCIOComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 6)(2, \"div\", 7)(3, \"div\", 8)(4, \"h4\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 10)(7, \"i\", 11);\n    i0.ɵɵtext(8, \"house\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"p\")(11, \"button\", 13);\n    i0.ɵɵtext(12, \"View Customer Rooms\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, ProcessCIOComponent_div_5_div_13_Template, 25, 10, \"div\", 5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 14)(15, \"div\", 15)(16, \"div\", 12)(17, \"h6\", 16);\n    i0.ɵɵtext(18, \"Customer info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"h4\", 9);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\", 17);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    var user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Number of Rooms Booked \", user_r1.BookedRooms.length, \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", user_r1.BookedRooms);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate2(\"\", user_r1.FirstName, \" \", user_r1.Surname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Username: \", user_r1.Username, \" \");\n  }\n}\n\nexport var ProcessCIOComponent = /*#__PURE__*/function () {\n  function ProcessCIOComponent(clerkService, fb) {\n    _classCallCheck(this, ProcessCIOComponent);\n\n    this.clerkService = clerkService;\n    this.fb = fb;\n    this.roomsBooked = [];\n  }\n\n  _createClass(ProcessCIOComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getBookedUsers();\n    }\n  }, {\n    key: \"Check\",\n    value: function Check(room, isCheckin, user) {\n      var _this = this;\n\n      var action = isCheckin ? \"checkin\" : \"checkOut\";\n      var label = isCheckin ? \"check in\" : \"check out\";\n      Swal.fire({\n        title: \"Are you sure you want to \".concat(isCheckin ? \"check in\" : \"check out\", \" the \").concat(user.FirstName, \" \").concat(user.Surname, \"?\"),\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#ff0000\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, book it!\"\n      }).then(function (result) {\n        if (result.isConfirmed) {\n          _this.clerkService.checkIn(room.bookId, action).subscribe(function (result) {\n            Swal.fire(\"Chec!\", label + \" successfully \", \"success\");\n            _this.roomsBooked = [];\n\n            _this.getBookedUsers();\n          }, function (error) {});\n        }\n      });\n    }\n  }, {\n    key: \"getBookedUsers\",\n    value: function getBookedUsers() {\n      var _this2 = this;\n\n      this.clerkService.getUsersBooked().subscribe(function (roomsUsers) {\n        console.log(roomsUsers);\n        _this2.roomsBooked = roomsUsers;\n      });\n    }\n  }]);\n\n  return ProcessCIOComponent;\n}();\n\nProcessCIOComponent.ɵfac = function ProcessCIOComponent_Factory(t) {\n  return new (t || ProcessCIOComponent)(i0.ɵɵdirectiveInject(i1.ClerkService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n\nProcessCIOComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProcessCIOComponent,\n  selectors: [[\"app-processCIO\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[1, \"main-content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"jumbotron\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-8\"], [1, \"card\"], [1, \"card-header\", \"card-header-primary\"], [1, \"card-title\"], [1, \"card-category\"], [1, \"material-icons\", \"text-danger\"], [1, \"card-body\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \".multi-collapse\", \"aria-expanded\", \"false\", \"aria-controls\", \"multiCollapseE\", 1, \"btn\", \"btn-primary\"], [1, \"col-md-4\"], [1, \"card\", \"card-profile\"], [1, \"card-category\", \"text-gray\"], [1, \"card-description\"], [1, \"col\"], [\"id\", \"multiCollapseE\", 1, \"collapse\", \"multi-collapse\"], [1, \"card\", \"card-body\"], [1, \"badge\", \"rounded-pill\", \"text-bg-warning\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col\", \"align-middle\"], [1, \"badge\", \"badge-pill\", \"badge-info\", 2, \"font-size\", \"16px\", \"font-weight\", \"bold\"], [1, \"d-grid\", \"gap-2\", \"d-md-flex\", \"justify-content-md-end\"], [\"mat-raised-button\", \"\", 1, \"btn\", \"btn-warning\", 3, \"disabled\", \"click\"], [\"mat-raised-button\", \"\", 1, \"btn\", \"orange\", 3, \"disabled\", \"click\"]],\n  template: function ProcessCIOComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵtemplate(5, ProcessCIOComponent_div_5_Template, 23, 5, \"div\", 5);\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.roomsBooked);\n    }\n  },\n  directives: [i3.NgForOf, i4.MatButton],\n  pipes: [i3.DatePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}