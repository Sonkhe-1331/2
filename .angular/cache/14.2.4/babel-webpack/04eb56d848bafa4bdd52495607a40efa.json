{"ast":null,"code":"import _classCallCheck from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { DocumentService } from 'app/shared/Document.service';\nimport { AuthService } from '../auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../auth.service\";\nimport * as i4 from \"app/shared/Document.service\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/material/button\";\n\nfunction RegisterComponent_label_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 19);\n    i0.ɵɵtext(1, \"Field is mandatory.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_label_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 19);\n    i0.ɵɵtext(1, \"Minimum 4 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_label_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 19);\n    i0.ɵɵtext(1, \"Field is mandatory.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_label_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 19);\n    i0.ɵɵtext(1, \"Confirm Password does not match\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport var RegisterComponent = /*#__PURE__*/function () {\n  function RegisterComponent(fb, router, auth, DocumentService) {\n    _classCallCheck(this, RegisterComponent);\n\n    this.fb = fb;\n    this.router = router;\n    this.auth = auth;\n    this.DocumentService = DocumentService;\n  }\n\n  _createClass(RegisterComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.formModel = this.fb.group({\n        FirstName: ['', Validators.required],\n        Surname: ['', Validators.required],\n        Email: ['', Validators.required],\n        IdNumber: ['', Validators.required],\n        Passwords: this.fb.group({\n          Password: ['', [Validators.required, Validators.minLength(4)]],\n          ConfirmPassword: ['', Validators.required]\n        }, {\n          validator: this.comparePasswords\n        })\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var _this = this;\n\n      console.log(this.formModel.valid);\n      console.log(this.formModel.value);\n\n      if (this.formModel.valid) {\n        this.auth.register(this.formModel.value).subscribe(function (res) {\n          _this.formModel.reset();\n\n          _this.router.navigate(['/login']);\n\n          alert(res.innerData.message);\n        }, function (error) {\n          alert(error);\n        });\n      }\n    }\n  }, {\n    key: \"comparePasswords\",\n    value: function comparePasswords(fb) {\n      var confirmPswrdCtrl = fb.get('ConfirmPassword');\n\n      if (confirmPswrdCtrl.errors == null || 'passwordMismatch' in confirmPswrdCtrl.errors) {\n        if (fb.get('Password').value !== confirmPswrdCtrl.value) {\n          confirmPswrdCtrl.setErrors({\n            passwordMismatch: true\n          });\n        } else {\n          confirmPswrdCtrl.setErrors(null);\n        }\n      }\n    }\n  }]);\n\n  return RegisterComponent;\n}();\n\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.DocumentService));\n};\n\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 48,\n  vars: 5,\n  consts: [[\"src\", \"https://www.premierhotels.co.za/wp-content/uploads/2018/07/ph_elicc_pool_2000.jpg\", \"alt\", \"Hello\", 1, \"img\"], [1, \"example-card\"], [\"autocomplete\", \"off\", 3, \"formGroup\", \"submit\"], [\"mat-card-avatar\", \"\"], [1, \"row\"], [1, \"col\"], [\"appearance\", \"outline\"], [\"for\", \"inputSmall\", 1, \"col-form-label\", \"col-form-label-sm\", \"mt-2\"], [\"matInput\", \"\", \"placeholder\", \"ex. 'Tristan'\", \"formControlName\", \"FirstName\", \"required\", \"\"], [\"matInput\", \"\", \"placeholder\", \"ex. 'Ogle'\", \"formControlName\", \"Surname\", \"required\", \"\"], [\"matInput\", \"\", \"placeholder\", \"ex. 'user1234'\", \"formControlName\", \"Email\"], [\"appearance\", \"fill\", 1, \"m-2\"], [\"type\", \"number\", \"matInput\", \"\", \"placeholder\", \"ex. 'ID Number'\", \"formControlName\", \"IdNumber\"], [\"formGroupName\", \"Passwords\"], [\"matInput\", \"\", \"type\", \"password\", \"placeholder\", \"ex. 'Tristan'\", \"formControlName\", \"Password\", \"required\", \"\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"password\", \"placeholder\", \"Confirm  Password\", \"formControlName\", \"ConfirmPassword\", \"required\", \"\"], [1, \"d-grid\", \"gap-2\", \"d-md-flex\", \"justify-content-md-end\"], [\"mat-stroked-button\", \"\", \"type\", \"submit\"], [1, \"text-danger\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵelement(1, \"img\", 0);\n      i0.ɵɵelementStart(2, \"mat-card\", 1)(3, \"form\", 2);\n      i0.ɵɵlistener(\"submit\", function RegisterComponent_Template_form_submit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"mat-card-header\")(5, \"mat-icon\", 3);\n      i0.ɵɵtext(6, \"person_add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"mat-card-title\");\n      i0.ɵɵtext(8, \"Guest Registration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"mat-card-subtitle\");\n      i0.ɵɵtext(10, \"Please fill in the following input fields\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"mat-card-content\")(12, \"div\", 4)(13, \"div\", 5)(14, \"mat-form-field\", 6)(15, \"mat-label\", 7);\n      i0.ɵɵtext(16, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"mat-form-field\", 6)(19, \"mat-label\", 7);\n      i0.ɵɵtext(20, \"Surname\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 5)(23, \"mat-form-field\", 6)(24, \"mat-label\", 7);\n      i0.ɵɵtext(25, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"mat-form-field\", 11)(28, \"mat-label\");\n      i0.ɵɵtext(29, \"Id Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 13)(32, \"mat-form-field\", 6)(33, \"mat-label\", 7);\n      i0.ɵɵtext(34, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"input\", 14);\n      i0.ɵɵtemplate(36, RegisterComponent_label_36_Template, 2, 0, \"label\", 15);\n      i0.ɵɵtemplate(37, RegisterComponent_label_37_Template, 2, 0, \"label\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"mat-form-field\", 6)(39, \"mat-label\", 7);\n      i0.ɵɵtext(40, \"Confirm Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(41, \"input\", 16);\n      i0.ɵɵtemplate(42, RegisterComponent_label_42_Template, 2, 0, \"label\", 15);\n      i0.ɵɵtemplate(43, RegisterComponent_label_43_Template, 2, 0, \"label\", 15);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(44, \"mat-card-actions\")(45, \"div\", 17)(46, \"button\", 18);\n      i0.ɵɵtext(47, \"Register\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.formModel);\n      i0.ɵɵadvance(33);\n      i0.ɵɵproperty(\"ngIf\", ctx.formModel.get(\"Passwords.Password\").touched && (ctx.formModel.get(\"Passwords.Password\").errors == null ? null : ctx.formModel.get(\"Passwords.Password\").errors.required));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.formModel.get(\"Passwords.Password\").touched && (ctx.formModel.get(\"Passwords.Password\").errors == null ? null : ctx.formModel.get(\"Passwords.Password\").errors.minlength));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.formModel.get(\"Passwords.ConfirmPassword\").touched && (ctx.formModel.get(\"Passwords.ConfirmPassword\").errors == null ? null : ctx.formModel.get(\"Passwords.ConfirmPassword\").errors.required));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.formModel.get(\"Passwords.ConfirmPassword\").touched && (ctx.formModel.get(\"Passwords.ConfirmPassword\").errors == null ? null : ctx.formModel.get(\"Passwords.ConfirmPassword\").errors.passwordMismatch));\n    }\n  },\n  directives: [i5.MatCard, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i5.MatCardHeader, i6.MatIcon, i5.MatCardAvatar, i5.MatCardTitle, i5.MatCardSubtitle, i5.MatCardContent, i7.MatFormField, i7.MatLabel, i8.MatInput, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i1.NumberValueAccessor, i1.FormGroupName, i9.NgIf, i5.MatCardActions, i10.MatButton],\n  styles: [\".img[_ngcontent-%COMP%] {\\n  min-height: 100%;\\n  min-width: 1024px;\\n  \\n  width: 100%;\\n  height: 70%;\\n  \\n  position: fixed;\\n  top: 4em;\\n  left: 0;\\n}\\n\\n.example-card[_ngcontent-%COMP%] {\\n  max-width: 900px;\\n  padding: 50px;\\n  margin: 20px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  text-align: center;\\n}\\n\\nmat-icon.mat-card-avatar[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  font-size: 40px;\\n}\"]\n});","map":null,"metadata":{},"sourceType":"module"}