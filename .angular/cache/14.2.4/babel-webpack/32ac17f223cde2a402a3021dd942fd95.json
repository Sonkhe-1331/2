{"ast":null,"code":"import _classCallCheck from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport Swal from 'sweetalert2';\nimport { RoomDialogComponent } from '../../dialogs/RoomDialog/RoomDialog.component';\nimport { RoomService } from '../../../../services/room.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/room.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"../../../../shared/ui/table/table.component\";\n\nfunction RoomComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Room Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"th\");\n    i0.ɵɵtext(3, \"Room Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"th\");\n  }\n}\n\nfunction RoomComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function RoomComponent_ng_template_18_Template_button_click_7_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r6);\n      var row_r4 = restoredCtx.$implicit;\n      var ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.removeRoom(row_r4.id);\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"restore_from_trash\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function RoomComponent_ng_template_18_Template_button_click_10_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r6);\n      var row_r4 = restoredCtx.$implicit;\n      var ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.editRoom(row_r4);\n    });\n    i0.ɵɵelementStart(11, \"mat-icon\");\n    i0.ɵɵtext(12, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var row_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r4.RoomNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r4.RoomName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r4.RoomType);\n  }\n}\n\nexport var RoomComponent = /*#__PURE__*/function () {\n  function RoomComponent(roomService, dialog) {\n    _classCallCheck(this, RoomComponent);\n\n    this.roomService = roomService;\n    this.dialog = dialog;\n    this.rooms = [];\n  }\n\n  _createClass(RoomComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getRooms();\n    }\n  }, {\n    key: \"getRooms\",\n    value: function getRooms() {\n      var _this = this;\n\n      this.roomService.getRooms().subscribe(function (res) {\n        console.log(res);\n        _this.rooms = res;\n      });\n    }\n  }, {\n    key: \"addRoom\",\n    value: function addRoom() {\n      var _this2 = this;\n\n      var dialog = new MatDialogConfig();\n      dialog.disableClose = false;\n      dialog.width = '20rem';\n      dialog.height = 'auto';\n      dialog.data = {\n        add: 'yes',\n        edit: false\n      };\n      var dialogReference = this.dialog.open(RoomDialogComponent, dialog);\n      dialogReference.afterClosed().subscribe(function (result) {\n        _this2.getRooms();\n      });\n    }\n  }, {\n    key: \"editRoom\",\n    value: function editRoom(course) {\n      var _this3 = this;\n\n      var dialog = new MatDialogConfig();\n      dialog.disableClose = false;\n      dialog.width = '20rem';\n      dialog.height = 'auto';\n      dialog.data = {\n        add: 'yes',\n        edit: true,\n        room: {\n          roomName: course.RoomName,\n          roomNumber: course.RoomNumber,\n          typeId: 1\n        }\n      };\n      var dialogReference = this.dialog.open(RoomDialogComponent, dialog);\n      dialogReference.afterClosed().subscribe(function (result) {\n        _this3.getRooms();\n      });\n    }\n  }, {\n    key: \"removeRoom\",\n    value: function removeRoom(id) {\n      var _this4 = this;\n\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#ff0000',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then(function (result) {\n        if (result.isConfirmed) {\n          _this4.roomService.deleteRoom(id).subscribe(function (result) {\n            Swal.fire('Deleted!', 'Your file has been deleted.', 'success');\n          }, function (error) {});\n        }\n      });\n    }\n  }]);\n\n  return RoomComponent;\n}();\n\nRoomComponent.ɵfac = function RoomComponent_Factory(t) {\n  return new (t || RoomComponent)(i0.ɵɵdirectiveInject(i1.RoomService), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\n\nRoomComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RoomComponent,\n  selectors: [[\"app-room\"]],\n  decls: 20,\n  vars: 1,\n  consts: [[1, \"main-content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\", \"card-header-danger\"], [1, \"card-title\"], [1, \"card-category\"], [\"mat-icon-button\", \"\", 1, \"addbutton\", 2, \"font-size\", \"xx-large\", 3, \"click\"], [1, \"card-body\"], [2, \"background-image\", \"url('./assets/logo-only.png')\", 3, \"data\"], [\"headers\", \"\"], [\"rows\", \"\"], [\"mat-button\", \"\", \"color\", \"danger\", 3, \"click\"]],\n  template: function RoomComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"h4\", 6);\n      i0.ɵɵtext(8, \"Hotel rooms\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\", 7);\n      i0.ɵɵtext(10, \" List of rooms within the hotel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function RoomComponent_Template_button_click_11_listener() {\n        return ctx.addRoom();\n      });\n      i0.ɵɵelementStart(12, \"mat-icon\");\n      i0.ɵɵtext(13, \"add\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"div\", 9)(15, \"app-table\", 10);\n      i0.ɵɵtemplate(16, RoomComponent_ng_template_16_Template, 7, 0, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(18, RoomComponent_ng_template_18_Template, 13, 3, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"data\", ctx.rooms);\n    }\n  },\n  directives: [i3.MatButton, i4.MatIcon, i5.TableComponent],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}