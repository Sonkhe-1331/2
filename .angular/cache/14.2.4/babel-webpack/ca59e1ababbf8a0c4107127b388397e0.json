{"ast":null,"code":"import _classCallCheck from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/sonkh/2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport Swal from 'sweetalert2';\nimport { RoomDialogComponent } from '../../dialogs/RoomDialog/RoomDialog.component';\nimport { RoomService } from '../../../../services/room.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/room.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"../../../../shared/ui/table/table.component\";\n\nfunction RoomComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Room Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"th\");\n    i0.ɵɵtext(3, \"Room Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"th\");\n  }\n}\n\nfunction RoomComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function RoomComponent_ng_template_18_Template_button_click_7_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r6);\n      var row_r4 = restoredCtx.$implicit;\n      var ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.removeRoom(row_r4.id);\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"restore_from_trash\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function RoomComponent_ng_template_18_Template_button_click_10_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r6);\n      var row_r4 = restoredCtx.$implicit;\n      var ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.editRoom(row_r4);\n    });\n    i0.ɵɵelementStart(11, \"mat-icon\");\n    i0.ɵɵtext(12, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var row_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r4.RoomNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r4.RoomName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r4.RoomType);\n  }\n}\n\nexport var RoomComponent = /*#__PURE__*/(function () {\n  var RoomComponent = /*#__PURE__*/function () {\n    function RoomComponent(roomService, dialog) {\n      _classCallCheck(this, RoomComponent);\n\n      this.roomService = roomService;\n      this.dialog = dialog;\n      this.rooms = [];\n    }\n\n    _createClass(RoomComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.getRooms();\n      }\n    }, {\n      key: \"getRooms\",\n      value: function getRooms() {\n        var _this = this;\n\n        this.roomService.getRooms().subscribe(function (res) {\n          console.log(res);\n          _this.rooms = res;\n        });\n      }\n    }, {\n      key: \"addRoom\",\n      value: function addRoom() {\n        var _this2 = this;\n\n        var dialog = new MatDialogConfig();\n        dialog.disableClose = false;\n        dialog.width = '20rem';\n        dialog.height = 'auto';\n        dialog.data = {\n          add: 'yes',\n          edit: false\n        };\n        var dialogReference = this.dialog.open(RoomDialogComponent, dialog);\n        dialogReference.afterClosed().subscribe(function (result) {\n          _this2.getRooms();\n        });\n      }\n    }, {\n      key: \"editRoom\",\n      value: function editRoom(course) {\n        var _this3 = this;\n\n        var dialog = new MatDialogConfig();\n        dialog.disableClose = false;\n        dialog.width = '20rem';\n        dialog.height = 'auto';\n        dialog.data = {\n          add: 'yes',\n          edit: true,\n          room: {\n            roomName: course.RoomName,\n            roomNumber: course.RoomNumber,\n            typeId: 1\n          }\n        };\n        var dialogReference = this.dialog.open(RoomDialogComponent, dialog);\n        dialogReference.afterClosed().subscribe(function (result) {\n          _this3.getRooms();\n        });\n      }\n    }, {\n      key: \"removeRoom\",\n      value: function removeRoom(id) {\n        var _this4 = this;\n\n        Swal.fire({\n          title: 'Are you sure?',\n          text: \"You won't be able to revert this!\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#ff0000',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes, delete it!'\n        }).then(function (result) {\n          if (result.isConfirmed) {\n            _this4.roomService.deleteRoom(id).subscribe(function (result) {\n              Swal.fire('Deleted!', 'Your file has been deleted.', 'success');\n            }, function (error) {});\n          }\n        });\n      }\n    }]);\n\n    return RoomComponent;\n  }();\n\n  RoomComponent.ɵfac = function RoomComponent_Factory(t) {\n    return new (t || RoomComponent)(i0.ɵɵdirectiveInject(i1.RoomService), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n\n  RoomComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RoomComponent,\n    selectors: [[\"app-room\"]],\n    decls: 20,\n    vars: 1,\n    consts: [[1, \"main-content\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\", \"card-header-danger\"], [1, \"card-title\"], [1, \"card-category\"], [\"mat-icon-button\", \"\", 1, \"addbutton\", 2, \"font-size\", \"xx-large\", 3, \"click\"], [1, \"card-body\"], [2, \"background-image\", \"url('./assets/logo-only.png')\", 3, \"data\"], [\"headers\", \"\"], [\"rows\", \"\"], [\"mat-button\", \"\", \"color\", \"danger\", 3, \"click\"]],\n    template: function RoomComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"h4\", 6);\n        i0.ɵɵtext(8, \"Hotel rooms\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\", 7);\n        i0.ɵɵtext(10, \" List of rooms within the hotel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function RoomComponent_Template_button_click_11_listener() {\n          return ctx.addRoom();\n        });\n        i0.ɵɵelementStart(12, \"mat-icon\");\n        i0.ɵɵtext(13, \"add\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"div\", 9)(15, \"app-table\", 10);\n        i0.ɵɵtemplate(16, RoomComponent_ng_template_16_Template, 7, 0, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(18, RoomComponent_ng_template_18_Template, 13, 3, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"data\", ctx.rooms);\n      }\n    },\n    directives: [i3.MatButton, i4.MatIcon, i5.TableComponent],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyb29tLmNvbXBvbmVudC5zY3NzIn0= */\"]\n  });\n  return RoomComponent;\n})();","map":{"version":3,"mappings":"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","names":["MatDialog","MatDialogConfig","Swal","RoomDialogComponent","RoomService","i0","ctx_r5","ctx_r7","RoomComponent","roomService","dialog","getRooms","subscribe","console","log","res","rooms","disableClose","width","height","data","add","edit","dialogReference","open","afterClosed","course","room","roomName","RoomName","roomNumber","RoomNumber","typeId","id","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","deleteRoom","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\sonkh\\2\\src\\app\\layouts\\owner-layout\\pages\\room\\room.component.ts","C:\\Users\\sonkh\\2\\src\\app\\layouts\\owner-layout\\pages\\room\\room.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport Swal from 'sweetalert2';\r\nimport { RoomDialogComponent } from '../../dialogs/RoomDialog/RoomDialog.component';\r\nimport { RoomService } from '../../../../services/room.service';\r\n\r\n@Component({\r\n  selector: 'app-room',\r\n  templateUrl: './room.component.html',\r\n  styleUrls: ['./room.component.scss']\r\n})\r\nexport class RoomComponent implements OnInit {\r\nrooms: any[] = [];\r\n  constructor(private roomService: RoomService,public dialog: MatDialog,) { }\r\n  ngOnInit() {\r\n    this.getRooms();\r\n  }\r\n\r\n  getRooms() {\r\n    this.roomService.getRooms().subscribe(res => {\r\n        console.log(res);\r\n        this.rooms = res;\r\n    })\r\n  }\r\n\r\n\r\n  addRoom() {\r\n    const dialog = new MatDialogConfig;\r\n    dialog.disableClose = false;\r\n    dialog.width = '20rem';\r\n    dialog.height = 'auto';\r\n    dialog.data = { add: 'yes', edit: false}\r\n    const dialogReference = this.dialog.open(\r\n      RoomDialogComponent,\r\n      dialog\r\n    );\r\n    dialogReference.afterClosed().subscribe(result => {\r\n      this.getRooms();\r\n    })\r\n  }\r\n  editRoom(course) {\r\n    const dialog = new MatDialogConfig;\r\n    dialog.disableClose = false;\r\n    dialog.width = '20rem';\r\n    dialog.height = 'auto';\r\n    dialog.data = { add: 'yes', edit: true, room: {roomName: course.RoomName, roomNumber: course.RoomNumber, typeId: 1} }\r\n    const dialogReference = this.dialog.open(\r\n      RoomDialogComponent,\r\n      dialog\r\n    );\r\n    dialogReference.afterClosed().subscribe(result => {\r\n      this.getRooms();\r\n    })\r\n  }\r\n\r\n  removeRoom(id) {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: \"You won't be able to revert this!\",\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#ff0000',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Yes, delete it!'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n\r\n        this.roomService.deleteRoom(id).subscribe((result) => {\r\n          Swal.fire(\r\n            'Deleted!',\r\n            'Your file has been deleted.',\r\n            'success'\r\n          )\r\n\r\n        },error => {\r\n\r\n        })\r\n\r\n      }\r\n    })\r\n  }\r\n}\r\n","<div>\r\n  <div class=\"main-content\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header card-header-danger\">\r\n              <h4 class=\"card-title \">Hotel rooms</h4>\r\n              <p class=\"card-category\"> List of rooms within the hotel</p>\r\n              <button class=\"addbutton\" mat-icon-button style=\"font-size: xx-large\" (click)=\"addRoom()\">\r\n                     <mat-icon>add</mat-icon>\r\n                  </button>\r\n            </div>\r\n            <div class=\"card-body\">\r\n\r\n              <app-table [data]=\"rooms\" style=\"background-image: url('./assets/logo-only.png')\">\r\n                <ng-template #headers>\r\n                  <th>Room Number</th>\r\n                  <th>Room Name</th>\r\n                  <th>Type</th>\r\n                  <th></th>\r\n                </ng-template>\r\n                <ng-template #rows let-row >\r\n                  <td>{{ row.RoomNumber  }}</td>\r\n                  <td>{{ row.RoomName }}</td>\r\n                  <td>{{ row.RoomType }}</td>\r\n                  <td>\r\n                    <button mat-button color=\"danger\" (click)=\"removeRoom(row.id)\"> <mat-icon >restore_from_trash</mat-icon></button>\r\n                      <button mat-button color=\"danger\" (click)=\"editRoom(row)\"> <mat-icon >edit</mat-icon></button>\r\n                  </td>\r\n                </ng-template>\r\n              </app-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module"}